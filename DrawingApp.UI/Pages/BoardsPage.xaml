<Page
    x:Class="DrawingApp.UI.Pages.BoardsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:DrawingApp.Core.Entities">

    <ScrollViewer>
        <StackPanel Padding="24" Spacing="10">
            <TextBlock Text="Boards" FontSize="24"/>

            <StackPanel Orientation="Horizontal" Spacing="8">
                <Button Content="Load" Command="{Binding LoadCommand}"/>
                <Button Content="Delete Selected" Command="{Binding DeleteCommand}"/>
            </StackPanel>

            <ListView x:Name="BoardsList"
                      ItemsSource="{Binding Items}"
                      SelectedItem="{Binding Selected, Mode=TwoWay}"
                      SelectionMode="Single">

                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="models:DrawingBoard">
                        <Grid ColumnDefinitions="*,Auto" Padding="8">
                            <StackPanel>
                                <TextBlock Text="{x:Bind Name}" FontWeight="SemiBold"/>
                                <TextBlock Text="{x:Bind CreatedAt}" Opacity="0.6"/>
                            </StackPanel>

                            <Button Grid.Column="1"
                                    Content="Open"
                                    Margin="12,0,0,0"
                                    Command="{Binding DataContext.OpenBoardCommand, ElementName=BoardsList}"
                                    CommandParameter="{x:Bind}" />
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>
    </ScrollViewer>
</Page>
