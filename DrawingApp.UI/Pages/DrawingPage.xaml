<Page
    x:Class="DrawingApp.UI.Pages.DrawingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:enums="using:DrawingApp.Core.Enums">

    <Grid RowDefinitions="Auto,*" Padding="12">

        <!-- Toolbar with horizontal scroll -->
        <ScrollViewer
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Disabled">

            <StackPanel Orientation="Horizontal" Spacing="8">

                <!-- Tool -->
                <ComboBox Width="180"
                          ItemsSource="{Binding ToolOptions}"
                          SelectedItem="{Binding CurrentTool, Mode=TwoWay}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <TextBox Width="140"
                         PlaceholderText="Stroke #AARRGGBB"
                         Text="{Binding StrokeColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBox Width="140"
                         PlaceholderText="Fill #AARRGGBB"
                         Text="{Binding FillColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                <NumberBox Width="110"
                           Header="Thickness"
                           Value="{Binding Thickness, Mode=TwoWay}"/>

                <NumberBox Width="120"
                           Header="Board W"
                           Value="{Binding BoardWidth, Mode=TwoWay}"
                           ValueChanged="BoardW_ValueChanged"/>

                <NumberBox Width="120"
                           Header="Board H"
                           Value="{Binding BoardHeight, Mode=TwoWay}"
                           ValueChanged="BoardH_ValueChanged"/>

                <TextBox Width="160"
                         PlaceholderText="Board BG"
                         Text="{Binding BoardBackground, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                <Button Content="Save Board"
                        Command="{Binding SaveBoardCommand}"/>

                <Button Content="Save Last Shape -> Template"
                        Command="{Binding SaveLastShapeAsTemplateCommand}"/>

                <ToggleButton Content="Fill Mode"
                        IsChecked="{Binding IsFillMode, Mode=TwoWay}"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Canvas -->
        <Border Grid.Row="1"
                Margin="0,12,0,0"
                Background="White"
                BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"
                BorderThickness="1">

            <Canvas x:Name="DrawCanvas"
                    Background="Transparent"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Width="{Binding BoardWidth}"
                    Height="{Binding BoardHeight}"/>
        </Border>
    </Grid>
</Page>
